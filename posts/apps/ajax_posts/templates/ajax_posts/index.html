<!DOCTYPE html>
<html>
<head>
	<title>Posts</title>
	<script
	  src="https://code.jquery.com/jquery-3.3.1.min.js"
	  integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
	  crossorigin="anonymous"></script>
	
</head>
<body>
	<h1>My Posts</h1>
	<form action="/ajax_posts/create" method="post" class="ajax_posts" id="create_posts">
		{%csrf_token%}
		<textarea name="content" placeholder="Your post here"></textarea>
		<input type="submit" value="submit">
		
	</form>
	<p id="post_here"></p>

	<script>
		$('#create_posts').submit(function(e){
			e.preventDefault()
			console.log('came here')
			$.ajax({
				url:$(this).attr('action'),
				method:'post',
				data:$(this).serialize(),
				success:function(serverResponse){
					console.log('success',serverResponse)
					$('#post_here').html(serverResponse)
				}
			})

		})
	</script>


</body>
</html>